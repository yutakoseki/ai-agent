# 公開・非公開の境界を厳守し、値はダミーを設定すること

# 公開可 (Next.js public)
NEXT_PUBLIC_API_BASE_URL=https://example.com/api
NEXT_PUBLIC_VAPID_PUBLIC_KEY=                          # 公開キー (Push購読用)

# 非公開 (サーバーサイドのみ)
API_BASE_URL=https://example.com/internal
DATABASE_URL=postgres://user:pass@host:5432/dbname
QUEUE_URL=amqp://user:pass@host:5672/vhost
AGENTCORE_API_URL=https://agent-core.example.com
AGENTCORE_QUEUE_NAME=agent-core-jobs

# デプロイ/環境
AMPLIFY_REGION=ap-northeast-1
AMPLIFY_BRANCH=prod

# Cognito
COGNITO_REGION=ap-northeast-1
COGNITO_USER_POOL_ID=ap-northeast-1_xxxxxxxx
COGNITO_CLIENT_ID=xxxxxxxxxxxxxxxxxxxxxxxxxx
COGNITO_CLIENT_SECRET=                    # secretなしなら空でOK
COGNITO_AUTH_FLOW=USER_PASSWORD_AUTH      # USER_PASSWORD_AUTH | ADMIN_USER_PASSWORD_AUTH

# DynamoDB
DYNAMODB_TABLE_NAME=aiagent-dev
DYNAMODB_ENDPOINT=                             # ローカル実行時のみ http://localhost:8000
DYNAMODB_GSI1_NAME=GSI1
DYNAMODB_GSI2_NAME=GSI2

# 認証関連（本番環境では必ず強力なランダム文字列を使用）
JWT_SECRET=your-jwt-secret-min-32-characters-long-change-in-production
JWT_ACCESS_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d
SESSION_COOKIE_NAME=session
SESSION_COOKIE_SECURE=true

# パスワードリセット
PASSWORD_RESET_EXPIRES_IN=1h
PASSWORD_RESET_SECRET=your-password-reset-secret-min-32-characters-long-change-in-production

# OAuth (Gmail/Outlook)
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret
GOOGLE_REDIRECT_URI=https://example.com/api/auth/google
GMAIL_PUBSUB_TOPIC=projects/your-project/topics/your-topic
GMAIL_WEBHOOK_TOKEN=your-webhook-token
GMAIL_LABEL_IDS_JSON={"action_required":"Label_123","information":"Label_456"}
GMAIL_WATCH_LABEL_IDS=INBOX
OAUTH_TOKEN_ENC_KEY=your-oauth-token-encryption-secret
OAUTH_STATE_SECRET=your-oauth-state-secret

# Web Push
VAPID_PUBLIC_KEY=your-vapid-public-key
VAPID_PRIVATE_KEY=your-vapid-private-key
VAPID_SUBJECT=mailto:admin@example.com

# ログ
LOG_LEVEL=info         # fatal/error/warn/info/debug/trace
LOG_PRETTY=false       # ローカルのみ true 推奨
LOG_SAMPLING_DEBUG=1   # 0〜1 (debug/trace をサンプリング)

# AI（メール分類/要約/次アクション抽出）
# - OPENAI_API_KEY を設定すると、同期時にメール本文を読んでAI解析します
OPENAI_API_KEY=
OPENAI_MODEL=gpt-5.2

# メール（テナント申請通知）
# - 本番: EMAIL_PROVIDER=ses を推奨（Amplify SSR Compute Role に ses:SendEmail を付与）
# - ローカル/検証: console（ログに出力）
EMAIL_PROVIDER=console  # ses | console | disabled
EMAIL_FROM=no-reply@example.com
TENANT_APPLICATION_ADMIN_EMAILS=admin@example.com
