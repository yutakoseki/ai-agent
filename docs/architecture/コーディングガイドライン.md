# コーディングガイドライン（フロントエンド）

## 目的
- AI/人力どちらの開発でも読みやすさと一貫性を保ち、保守コストを下げる。
- ファイル肥大化を防ぎ、責務単位で分割するルールを明確にする。

## 分割とファイル長の目安
- 1ファイルの目安: 200行以下。300行を超える場合は分割を検討する。
- 原則: 役割ごとに分ける
  - UI（表示）とロジックを分離（hooks/サービス関数）。
  - API クライアント、型、定数を分離し再利用。
  - 大きなコンポーネントは `components/ui` の小さな部品に分ける。
- 複数責務を持ち始めたら即分割する（例: フォーム + リスト表示 + モーダルを別コンポーネントに）。

## 命名と配置
- コンポーネント: `PascalCase`。再利用可能なものは `apps/web/components/ui/` 配下へ。
- hooks: `useXxx`。副作用/データ取得は `lib/hooks` などに集約。
- ルート: `app/**/page.tsx` は薄く保ち、UI/ロジックを部品へ委譲。
- スタイル: Tailwind のユーティリティを使用し、色はトークンのみ（`primary/secondary/accent/surface/ink`）。直接色指定禁止。

## コンポーネント指針
- 共通 UI を優先利用（ボタン/入力/カードなど）。バリアント追加はデザインレビュー後に限定的に行う。
- Props は最小限・明示的に。`any` 禁止。必須/任意を型で分ける。
- アクセシビリティ: フォーカスリング（`focus-visible:ring`）、aria属性、ラベル/説明を適切に。

## ロジック分離
- データ取得・副作用はカスタムフックやサービス関数へ移動し、コンポーネントは表示に専念。
- ユーティリティ/定数は `lib/` や `shared` に配置し、重複実装を避ける。

## テスト方針（簡略）
- 単体: hooks/ユーティリティは Vitest で。
- 統合: API Route は Vitest (node 環境) で疎通。
- E2E: Playwright で主要導線をスモーク。

## PR/レビュー時のチェック
- ファイル長と責務が適切か（200行超は要分割検討）。
- 色・余白・フォーカスがトークン/共通UIに沿っているか。
- 型安全か（`any`/暗黙の `any` を避ける）。
- アクセシビリティとレスポンシブの確認。



